<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>title</title>
</head>
<style>
  * {
    margin: 0;
    padding: 0;
    list-style-type: none;
  }

  canvas {
    display: block;
    margin: 0 auto;
  }
</style>

<body>
  <canvas width="800" height="800"></canvas>
</body>
<script>
  function offsetXY() {
    let offset = {
      X: [],
      Y: []
    }
    return (x, y) => {
      if (typeof x === 'undefined') return offset;
      offset.X.push(x);
      offset.Y.push(y);
      return offset;
    }
  }
  let canvas = document.querySelector('canvas');
  let c = canvas.getContext('2d');

  c.fillStyle = 'white'
  c.fillRect(0, 0, 1000, 600);

  c.beginPath();
  // 開闢保存筆的空間
  let saveXY = offsetXY();
  c.lineWidth = 5;
  // 起始點
  c.moveTo(50, 30);
  saveXY(50, 30);
  // 第一筆
  c.lineTo(70, 50);
  saveXY(70, 50);
  c.stroke();

  c.lineTo(100, 100);
  saveXY(100, 100);
  c.stroke();

  c.lineTo(300, 100);
  saveXY(300, 100);
  c.stroke();

  c.lineTo(200, 150);
  let XY = saveXY(200, 150);
  c.stroke();

  function reset({X, Y}) {
    // 還沒開始畫就直接返回
    if(X.length === 1) return '還沒開始畫線';
    // 清除六次
    c.strokeStyle = 'white';
    for(let i=0; i<15; i++) {
      c.lineTo(X[X.length-2], Y[Y.length-2]);
      c.stroke();
      c.lineTo(X[X.length-1], Y[Y.length-1]);
      c.stroke();
    }
    // 抬起筆後，原本畫的顏色才不會被修改
    c.beginPath();
    // 還原原本筆的顏色
    c.strokeStyle = 'black';
    X.length = 0;
    Y.length = 0;
  }

  reset(XY);
  c.moveTo(0, 0);
  saveXY(0, 0);
  c.lineTo(300, 300);
  XY = saveXY(300, 300);
  c.stroke();

  // reset(XY);
</script>

</html>